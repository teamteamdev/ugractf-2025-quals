# /locate: Write-up

Дан скриншот из игры Minecraft.

![](./attachments/screenshot.png)

Красивое место в Северной Каролине… стоп, где??

По [[minecraft north carolina](https://google.com/search?q=minecraft+north+carolina)] ищется упоминание ключа генерации `North Carolina` для демонстрационного мира на [Minecraft Forum](https://www.minecraftforum.net/forums/minecraft-java-edition/seeds/317535-north-carolina).

Видимо, скриншот сделан в демонстрационном мире. Предположим, что скриншот был сделан на последней на момент соревнования версии — Java 1.21.4 (Bedrock Edition тоже обладает демонстрационным режимом, но там используется другой ключ генерации).

Открываем [chunkbase](https://www.chunkbase.com/apps/seed-map#seed=North+Carolina&platform=java_1_21_4&dimension=overworld).

Игрок стоит в [Plains Village](https://minecraft.wiki/w/Village), в поле зрения есть [Ruined Portal](https://minecraft.wiki/w/Ruined_Portal), вдалеке есть ещё одна [Plains Village](https://minecraft.wiki/w/Village). Скриншот снят с верхушки [Plains Temple](https://minecraft.wiki/w/Village/Structure/Blueprints/Plains/Temple_1).

Дальняя деревня явно заходит в [болото](https://minecraft.wiki/w/Swamp) справа. Болото — [редкий](https://minecraft.wiki/w/Biome#Biome_distribution_in_Java_Edition_1.21.4) биом (генерируется с шансом 1%).

Выставим в chunkbase:
- _Features_: biomes, spawnpoint, village, ruined portal
- _Expand_
- _Highlight biomes_: swamp

и посмотрим на ближайшие болота.

![](./writeup/nearby-village-swamp.png)

Рассмотрим кандидаты (обведены красным): болото есть по одну сторону и деревни находятся близко (меньше ≈300 блоков):

![](./writeup/candidates.png)

Проверим каждую пару деревень — нажимаем на иконку и проверяем, что в попапе написано именно _Plains Village_. Остались три кандидата:

![](./writeup/eliminated.png)

Начинаем с той, где деревни наиболее близко друг к другу (на картинке выше она отмечена цифрой 1).

![](./writeup/closeup.png)

Приближаем дальше, чтобы исследовать было удобнее, и соединяем мысленно болота линией:

![](./writeup/near.png)

Посмотрим снова на скриншот. Слева (в направлении стрелки) видно немного тёмной воды и кувшинок — таких же, как и справа. Значит, слева тоже есть болото. Мысленно соединяем левое и правое болото:

![](./writeup/lines.png)

_Ruined portal_ находится по другую сторону от нас относительно линии соединения, значит, необходимая башня находится в южной деревне, а камера смотрит на север.

![](./writeup/direction.png)

Создаём мир локально (или [обходим](https://minecraft.wiki/w/Demo_Mode#Java_Edition) ограничение демонстрационного мира, чтобы можно было свободно исследовать), и ищем в деревне по адресу `X=-4160 Z=-4896` башню.

![](./writeup/tower.png)

Красная стрелка показывает примерное место, где стоял игрок, а оранжевая — направление камеры.

![](./writeup/tower-blueprint.png)

Заходим в мир и ищем координаты этого блока.

Ответ: `x=-4144 y=88 z=-4895`

Сдаём в систему и получаем флаг.

Флаг: **ugra_someone_should_make_a_tool_for_this_as4gziyzka11**

## Интересные факты

[`/locate`](https://minecraft.wiki/w/Commands/locate) — команда, позволяющая искать структуры и биомы изнутри игры. Она, конечно же, не помогает найти болото: хоть это и редкий биом, на картинке болото не ближайшее к точке респавна, что делает `/locate` всего лишь красивым названием.

## Постмортем

У этого задания есть один неочевидный сходу подвох. Посмотрите на скриншот, сделанный клавишей F3:

![](writeup/f3.png)

Слева написано:

```
XYZ: -4143.437 / 89.00000 / -4894.407
Block: -4144 89 -4895 [0 9 1]
```

В условии задания написано, что нужно записать координаты **блока**, причём это слово выделено жирным. Ожидалось, что участники увидят строку _Block_ и перепишут координаты с неё. Но ровно над ней есть строка _XYZ_, которая бросается в глаза первой. Что такое разные виды округлений — сходу скажут не все, поэтому очень много людей пытались засылать координаты `-4143 -4894`, просто игнорируя часть после точки, что некорректно для отрицательных координат.

Ухудшает ситуацию то, что координата `-4143 -4894` находится на границе башни, то есть даже если бы было достаточно попыток, чтобы перепробовать все 9 блоков верхушки башни, ошибаясь с округлением, ни один из них бы не подошёл.

Людям, спрашивающим у автора, почему ответ `-4143 -4894` не принимается системой, предлагалось перечитать условие, обращая внимание на каждое слово.
